[gd_scene load_steps=7 format=2]

[ext_resource path="res://Assets/Textures/Ship.png" type="Texture" id=1]
[ext_resource path="res://Assets/Scripts/GD/NormalGenerator.gd" type="Script" id=2]
[ext_resource path="res://Assets/Textures/ShipMask.png" type="Texture" id=3]
[ext_resource path="res://Assets/Textures/ShipNormalMap.tres" type="Texture" id=4]

[sub_resource type="Shader" id=1]
code = "shader_type canvas_item;

void vertex() {
	VERTEX.x *= 2f;
	UV.x *= 2f;
}

void fragment() {
	vec4 col1 = texture(TEXTURE, UV);
	vec4 col2 = texture(NORMAL_TEXTURE, UV - vec2(1f, 0f));
	
	if (UV.x < 1f) {
		COLOR = col1;
	} else {
		COLOR = col2;
	}
}"

[sub_resource type="ShaderMaterial" id=2]
shader = SubResource( 1 )

[node name="Sprite" type="Sprite"]
material = SubResource( 2 )
texture = ExtResource( 1 )
normal_map = ExtResource( 4 )
script = ExtResource( 2 )
normal_range = 4
maskTexture = ExtResource( 3 )
