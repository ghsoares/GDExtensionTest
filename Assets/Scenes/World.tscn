[gd_scene load_steps=16 format=2]

[ext_resource path="res://Assets/Scenes/Player.tscn" type="PackedScene" id=1]
[ext_resource path="res://Assets/Scripts/World.cs" type="Script" id=3]
[ext_resource path="res://Assets/Scenes/PopupText.tscn" type="PackedScene" id=4]
[ext_resource path="res://Assets/Scenes/Platform.tscn" type="PackedScene" id=5]

[sub_resource type="Curve" id=1]
_data = [ Vector2( 0, 1 ), 0.0, 0.0, 0, 0, Vector2( 1, 0 ), 0.0, 0.0, 0, 0 ]

[sub_resource type="CurveTexture" id=2]
curve = SubResource( 1 )

[sub_resource type="ParticlesMaterial" id=3]
emission_shape = 2
emission_box_extents = Vector3( 256, 256, 1 )
flag_disable_z = true
gravity = Vector3( 0, 0, 0 )
orbit_velocity = 0.0
orbit_velocity_random = 0.0
angle = 45.0
scale = 4.0
scale_random = 1.0
scale_curve = SubResource( 2 )

[sub_resource type="Shader" id=4]
code = "shader_type canvas_item;

uniform vec2 terrainSize = vec2(640, 320);
uniform sampler2D terrainHeightMap;
uniform sampler2D tex;
uniform sampler2D terrainGradient;
uniform float texWarp = 0.1f;
uniform float texSteps = 4f;
uniform float texAdd = 0f;
uniform float texEasing = 1f;
uniform float texFadeOutLen = 32f;
uniform vec2 texFadeOutRange = vec2(.25f, 1f);
uniform float tilingSize = 32f;
uniform float heightMapResolution = .25f;

float ease(float x, float c) {
	if (x < 0f) x = 0f;
	if (x > 1f) x = 1f;
	
	if (c > 0f) {
		if (c < 1f) {
			return 1f - pow(1f - x, 1f / c);
		} else {
			return pow(x, c);
		}
	} else if (c < 0f) {
		if (x < 0.5f) {
			return pow(x * 2f, -c) * .5f;
		} else {
			return (1f - pow(1f - (x - .5f) * 2f, -c)) * .5f + .5f;
		}
	}
	
	return 0f;
}

void fragment() {
	vec2 uv = UV;
	uv.y = 1f - uv.y;
	vec2 pos = uv * terrainSize;
	
	float hUv = UV.x * terrainSize.x * heightMapResolution;
	
	float i1 = floor(hUv);
	float i2 = ceil(hUv);
	float t = (hUv - i1) / (i2 - i1);
	
	i1 /= terrainSize.x * heightMapResolution;
	i2 /= terrainSize.x * heightMapResolution;
	
	float h1 = (texture(terrainHeightMap, vec2(i1, 0)).x) * terrainSize.y;
	float h2 = (texture(terrainHeightMap, vec2(i2, 0)).x) * terrainSize.y;
	
	t = ease(t, 1f);
	
	float h = mix(h1, h2, t);
	//float h = (texture(terrainHeightMap, UV).x) * terrainSize.y;
	vec2 texUv = pos / tilingSize;
	float warpAngle = texture(tex, texUv * .345f).r * 3.1415 * 4f;
	texUv += vec2(cos(warpAngle), sin(warpAngle)) * texWarp;
	float terrain = ease(texture(tex, texUv).r, texEasing) + texAdd;
	
	float diff = h - pos.y;
	terrain *= mix(texFadeOutRange.x, texFadeOutRange.y, clamp(1f - diff / texFadeOutLen, 0, 1));
	
	terrain = clamp(ceil(terrain * texSteps) / texSteps, 0, 1);
	
	vec4 col = texture(terrainGradient, vec2(terrain, 0)) * COLOR;
	
	if (pos.y > h) {
		col.a = 0f;
	}
	
	COLOR = col;
}"

[sub_resource type="Gradient" id=5]
offsets = PoolRealArray( 0, 0.753304, 1 )
colors = PoolColorArray( 0.208984, 0.037756, 0.168184, 1, 0.615234, 0.149603, 0.220539, 1, 0.827451, 0.254902, 0.227451, 1 )

[sub_resource type="GradientTexture" id=6]
gradient = SubResource( 5 )

[sub_resource type="Image" id=12]
data = {
"data": PoolByteArray( 1, 0, 192, 62, 20, 24, 191, 62, 214, 50, 190, 62, 154, 83, 189, 62, 81, 126, 188, 62, 40, 183, 187, 62, 70, 2, 187, 62, 143, 99, 186, 62, 120, 222, 185, 62, 230, 117, 185, 62, 23, 44, 185, 62, 143, 2, 185, 62, 29, 250, 184, 62, 205, 18, 185, 62, 246, 75, 185, 62, 67, 164, 185, 62, 189, 25, 186, 62, 230, 169, 186, 62, 189, 81, 187, 62, 225, 13, 188, 62, 159, 218, 188, 62, 8, 180, 189, 62, 17, 150, 190, 62, 157, 124, 191, 62, 160, 99, 192, 62, 41, 71, 193, 62, 127, 35, 194, 62, 44, 245, 194, 62, 18, 185, 195, 62, 122, 108, 196, 62, 28, 13, 197, 62, 44, 153, 197, 62, 97, 15, 198, 62, 253, 110, 198, 62, 202, 183, 198, 62, 27, 234, 198, 62, 205, 6, 199, 62, 99, 15, 199, 62, 59, 6, 199, 62, 125, 238, 198, 62, 221, 203, 198, 62, 115, 162, 198, 62, 136, 118, 198, 62, 97, 76, 198, 62, 31, 40, 198, 62, 125, 13, 198, 62, 174, 255, 197, 62, 77, 1, 198, 62, 141, 20, 198, 62, 67, 59, 198, 62, 179, 118, 198, 62, 78, 199, 198, 62, 178, 44, 199, 62, 215, 165, 199, 62, 58, 49, 200, 62, 251, 204, 200, 62, 253, 118, 201, 62, 250, 44, 202, 62, 148, 236, 202, 62, 108, 179, 203, 62, 31, 127, 204, 62, 95, 77, 205, 62, 229, 27, 206, 62, 128, 232, 206, 62, 4, 177, 207, 62, 79, 115, 208, 62, 84, 45, 209, 62, 36, 221, 209, 62, 248, 128, 210, 62, 51, 23, 211, 62, 108, 158, 211, 62, 110, 21, 212, 62, 72, 123, 212, 62, 84, 207, 212, 62, 86, 17, 213, 62, 97, 65, 213, 62, 248, 95, 213, 62, 93, 110, 213, 62, 214, 110, 213, 62, 106, 100, 213, 62, 166, 82, 213, 62, 92, 61, 213, 62, 120, 40, 213, 62, 198, 23, 213, 62, 201, 14, 213, 62, 138, 16, 213, 62, 105, 31, 213, 62, 233, 60, 213, 62, 115, 105, 213, 62, 82, 164, 213, 62, 20, 236, 213, 62, 207, 62, 214, 62, 32, 154, 214, 62, 86, 251, 214, 62, 123, 95, 215, 62, 113, 195, 215, 62, 253, 35, 216, 62, 230, 125, 216, 62, 0, 206, 216, 62, 56, 17, 217, 62, 165, 68, 217, 62, 145, 101, 217, 62, 141, 113, 217, 62, 123, 102, 217, 62, 150, 66, 217, 62, 100, 4, 217, 62, 198, 170, 216, 62, 22, 53, 216, 62, 36, 163, 215, 62, 65, 245, 214, 62, 72, 44, 214, 62, 138, 73, 213, 62, 218, 78, 212, 62, 113, 62, 211, 62, 234, 26, 210, 62, 46, 231, 208, 62, 99, 166, 207, 62, 210, 91, 206, 62, 207, 10, 205, 62, 172, 182, 203, 62, 19, 99, 202, 62, 69, 20, 201, 62, 201, 206, 199, 62, 36, 151, 198, 62, 170, 113, 197, 62, 87, 98, 196, 62, 184, 108, 195, 62, 238, 147, 194, 62, 142, 218, 193, 62, 102, 66, 193, 62, 105, 204, 192, 62, 174, 120, 192, 62, 115, 70, 192, 62, 27, 50, 192, 62, 252, 51, 192, 62, 182, 70, 192, 62, 106, 98, 192, 62, 74, 125, 192, 62, 116, 140, 192, 62, 232, 132, 192, 62, 124, 92, 192, 62, 46, 20, 192, 62, 211, 193, 191, 62, 0, 108, 191, 62, 72, 25, 191, 62, 70, 208, 190, 62, 211, 150, 190, 62, 38, 113, 190, 62, 46, 97, 190, 62, 138, 96, 190, 62, 138, 96, 190, 62, 138, 96, 190, 62, 138, 96, 190, 62, 138, 96, 190, 62, 138, 96, 190, 62, 138, 96, 190, 62, 138, 96, 190, 62, 138, 96, 190, 62, 138, 96, 190, 62, 109, 89, 190, 62, 58, 47, 190, 62, 234, 203, 189, 62, 132, 25, 189, 62, 82, 2, 188, 62, 175, 113, 186, 62, 146, 84, 184, 62, 237, 153, 181, 62, 212, 96, 178, 62, 123, 32, 175, 62, 216, 247, 171, 62, 239, 255, 168, 62, 37, 80, 166, 62, 224, 253, 163, 62, 90, 28, 162, 62, 93, 188, 160, 62, 177, 201, 159, 62, 163, 246, 158, 62, 228, 63, 158, 62, 169, 165, 157, 62, 244, 39, 157, 62, 145, 198, 156, 62, 15, 129, 156, 62, 200, 86, 156, 62, 218, 70, 156, 62, 42, 80, 156, 62, 104, 113, 156, 62, 17, 169, 156, 62, 118, 245, 156, 62, 193, 84, 157, 62, 255, 196, 157, 62, 43, 68, 158, 62, 52, 208, 158, 62, 17, 103, 159, 62, 196, 6, 160, 62, 107, 173, 160, 62, 77, 89, 161, 62, 230, 8, 162, 62, 236, 186, 162, 62, 88, 110, 163, 62, 45, 34, 164, 62, 73, 213, 164, 62, 128, 134, 165, 62, 189, 52, 166, 62, 14, 223, 166, 62, 174, 132, 167, 62, 248, 36, 168, 62, 92, 191, 168, 62, 54, 83, 169, 62, 157, 223, 169, 62, 49, 99, 170, 62, 31, 220, 170, 62, 207, 72, 171, 62, 251, 167, 171, 62, 182, 248, 171, 62, 115, 58, 172, 62, 8, 109, 172, 62, 207, 144, 172, 62, 169, 166, 172, 62, 218, 175, 172, 62, 248, 173, 172, 62, 216, 162, 172, 62, 125, 144, 172, 62, 13, 121, 172, 62, 193, 94, 172, 62, 232, 67, 172, 62, 209, 42, 172, 62, 212, 21, 172, 62, 65, 7, 172, 62, 97, 1, 172, 62, 114, 6, 172, 62, 152, 24, 172, 62, 230, 57, 172, 62, 49, 108, 172, 62, 3, 177, 172, 62, 148, 9, 173, 62, 204, 118, 173, 62, 51, 249, 173, 62, 248, 144, 174, 62, 207, 61, 175, 62, 212, 254, 175, 62, 72, 210, 176, 62, 136, 181, 177, 62, 65, 165, 178, 62, 155, 157, 179, 62, 93, 154, 180, 62, 33, 151, 181, 62, 120, 143, 182, 62, 32, 127, 183, 62, 52, 98, 184, 62, 110, 53, 185, 62, 96, 246, 185, 62, 164, 163, 186, 62, 110, 60, 187, 62, 73, 192, 187, 62, 14, 47, 188, 62, 225, 136, 188, 62, 46, 206, 188, 62, 152, 255, 188, 62, 251, 29, 189, 62, 93, 42, 189, 62, 230, 37, 189, 62, 214, 17, 189, 62, 128, 239, 188, 62, 63, 192, 188, 62, 110, 133, 188, 62, 102, 64, 188, 62, 115, 242, 187, 62, 209, 156, 187, 62, 172, 64, 187, 62, 24, 223, 186, 62, 18, 121, 186, 62, 127, 15, 186, 62, 54, 163, 185, 62, 1, 53, 185, 62, 161, 197, 184, 62, 193, 85, 184, 62, 8, 230, 183, 62, 9, 119, 183, 62, 87, 9, 183, 62, 128, 157, 182, 62, 15, 52, 182, 62, 155, 205, 181, 62, 192, 106, 181, 62, 8, 12, 181, 62, 152, 177, 180, 62, 54, 91, 180, 62, 82, 8, 180, 62, 17, 184, 179, 62, 68, 105, 179, 62, 123, 26, 179, 62, 88, 202, 178, 62, 187, 119, 178, 62, 209, 33, 178, 62, 29, 200, 177, 62, 125, 106, 177, 62, 26, 9, 177, 62, 113, 164, 176, 62, 76, 61, 176, 62, 188, 212, 175, 62, 24, 108, 175, 62, 241, 4, 175, 62, 14, 161, 174, 62, 102, 66, 174, 62, 15, 235, 173, 62, 63, 157, 173, 62, 52, 91, 173, 62, 55, 39, 173, 62, 132, 3, 173, 62, 69, 242, 172, 62, 128, 245, 172, 62, 20, 15, 173, 62, 163, 64, 173, 62, 180, 165, 173, 62, 224, 124, 174, 62, 128, 195, 175, 62, 8, 113, 177, 62, 244, 121, 179, 62, 234, 207, 181, 62, 218, 97, 184, 62, 77, 28, 187, 62, 51, 195, 189, 62, 248, 239, 191, 62, 10, 165, 193, 62, 23, 236, 194, 62, 54, 209, 195, 62, 137, 98, 196, 62, 234, 175, 196, 62, 166, 202, 196, 62, 143, 203, 196, 62, 143, 203, 196, 62, 143, 203, 196, 62, 143, 203, 196, 62, 143, 203, 196, 62, 143, 203, 196, 62, 143, 203, 196, 62, 143, 203, 196, 62, 119, 204, 196, 62, 136, 230, 196, 62, 244, 47, 197, 62, 173, 181, 197, 62, 92, 129, 198, 62, 15, 153, 199, 62, 251, 254, 200, 62, 111, 177, 202, 62, 47, 167, 204, 62, 214, 131, 206, 62, 115, 22, 208, 62, 189, 82, 209, 62, 207, 48, 210, 62, 22, 173, 210, 62, 24, 200, 210, 62, 32, 134, 210, 62, 131, 240, 209, 62, 151, 51, 209, 62, 37, 98, 208, 62, 128, 127, 207, 62, 247, 142, 206, 62, 198, 147, 205, 62, 8, 145, 204, 62, 160, 137, 203, 62, 49, 128, 202, 62, 159, 118, 201, 62, 201, 109, 200, 62, 191, 101, 199, 62, 238, 93, 198, 62, 90, 85, 197, 62, 187, 74, 196, 62, 174, 60, 195, 62, 205, 41, 194, 62, 198, 16, 193, 62, 141, 240, 191, 62, 92, 200, 190, 62, 232, 151, 189, 62, 74, 95, 188, 62, 233, 30, 187, 62, 115, 215, 185, 62, 223, 137, 184, 62, 93, 55, 183, 62, 104, 225, 181, 62, 174, 137, 180, 62, 28, 50, 179, 62, 228, 220, 177, 62, 172, 140, 176, 62, 111, 68, 175, 62, 95, 7, 174, 62, 202, 216, 172, 62, 3, 188, 171, 62, 81, 180, 170, 62, 220, 196, 169, 62, 160, 240, 168, 62, 95, 58, 168, 62, 146, 164, 167, 62, 96, 49, 167, 62, 137, 226, 166, 62, 81, 185, 166, 62, 113, 182, 166, 62, 241, 217, 166, 62, 26, 35, 167, 62, 160, 144, 167, 62, 172, 32, 168, 62, 234, 208, 168, 62, 141, 158, 169, 62, 38, 134, 170, 62, 45, 131, 171, 62, 29, 144, 172, 62, 206, 166, 173, 62, 197, 192, 174, 62, 120, 215, 175, 62, 151, 228, 176, 62, 67, 226, 177, 62, 74, 203, 178, 62, 110, 155, 179, 62, 141, 79, 180, 62, 214, 229, 180, 62, 133, 93, 181, 62, 187, 182, 181, 62, 125, 242, 181, 62, 169, 18, 182, 62, 223, 25, 182, 62, 95, 11, 182, 62, 233, 234, 181, 62, 161, 188, 181, 62, 241, 132, 181, 62, 120, 72, 181, 62, 233, 11, 181, 62, 236, 211, 180, 62, 13, 165, 180, 62, 151, 131, 180, 62, 136, 115, 180, 62, 114, 120, 180, 62, 118, 149, 180, 62, 45, 205, 180, 62, 163, 33, 181, 62, 60, 148, 181, 62, 180, 37, 182, 62, 26, 214, 182, 62, 197, 164, 183, 62, 100, 144, 184, 62, 1, 151, 185, 62, 19, 182, 186, 62, 141, 234, 187, 62, 5, 49, 189, 62, 209, 133, 190, 62, 41, 229, 191, 62, 87, 75, 193, 62, 241, 180, 194, 62, 253, 30, 196, 62, 93, 134, 197, 62, 44, 231, 198, 62, 234, 60, 200, 62, 212, 130, 201, 62, 44, 180, 202, 62, 120, 204, 203, 62, 189, 199, 204, 62, 157, 162, 205, 62, 119, 90, 206, 62, 123, 237, 206, 62, 178, 90, 207, 62, 4, 162, 207, 62, 51, 196, 207, 62, 209, 194, 207, 62, 49, 160, 207, 62, 95, 95, 207, 62, 13, 4, 207, 62, 127, 146, 206, 62, 114, 15, 206, 62, 253, 127, 205, 62, 230, 237, 204, 62, 230, 123, 204, 62, 147, 58, 204, 62, 97, 53, 204, 62, 232, 117, 204, 62, 0, 3, 205, 62, 5, 224, 205, 62, 72, 12, 207, 62, 129, 118, 208, 62, 193, 204, 209, 62, 236, 248, 210, 62, 84, 243, 211, 62, 73, 183, 212, 62, 111, 67, 213, 62, 4, 154, 213, 62, 228, 192, 213, 62, 59, 197, 213, 62, 59, 197, 213, 62, 59, 197, 213, 62, 59, 197, 213, 62, 59, 197, 213, 62, 59, 197, 213, 62, 59, 197, 213, 62, 59, 197, 213, 62, 59, 197, 213, 62, 59, 197, 213, 62, 59, 197, 213, 62, 59, 197, 213, 62, 108, 216, 213, 62, 218, 28, 214, 62, 148, 161, 214, 62, 189, 115, 215, 62, 69, 158, 216, 62, 183, 41, 218, 62, 12, 28, 220, 62, 134, 120, 222, 62, 18, 247, 224, 62, 174, 66, 227, 62, 251, 74, 229, 62, 68, 2, 231, 62, 177, 93, 232, 62, 115, 85, 233, 62, 197, 228, 233, 62, 202, 9, 234, 62, 182, 237, 233, 62, 168, 186, 233, 62, 108, 114, 233, 62, 248, 22, 233, 62, 102, 170, 232, 62, 236, 46, 232, 62, 196, 166, 231, 62, 42, 20, 231, 62, 72, 121, 230, 62, 36, 216, 229, 62, 154, 50, 229, 62, 67, 138, 228, 62, 129, 224, 227, 62, 113, 54, 227, 62, 220, 140, 226, 62, 44, 228, 225, 62, 87, 60, 225, 62, 236, 148, 224, 62, 13, 237, 223, 62, 131, 67, 223, 62, 218, 150, 222, 62, 131, 229, 221, 62, 10, 46, 221, 62, 72, 111, 220, 62, 150, 168, 219, 62, 118, 217, 218, 62, 79, 1, 218, 62, 106, 31, 217, 62, 5, 51, 216, 62, 79, 59, 215, 62, 115, 55, 214, 62, 166, 38, 213, 62, 46, 8, 212, 62, 100, 219, 210, 62, 201, 159, 209, 62, 6, 85, 208, 62, 9, 251, 206, 62, 33, 146, 205, 62, 3, 27, 204, 62, 179, 150, 202, 62, 136, 6, 201, 62, 18, 108, 199, 62, 28, 201, 197, 62, 164, 31, 196, 62, 207, 113, 194, 62, 221, 193, 192, 62, 27, 18, 191, 62, 206, 100, 189, 62, 29, 188, 187, 62, 241, 25, 186, 62, 202, 127, 184, 62, 195, 238, 182, 62, 207, 103, 181, 62, 229, 235, 179, 62, 220, 123, 178, 62, 73, 24, 177, 62, 123, 193, 175, 62, 154, 119, 174, 62, 196, 58, 173, 62, 23, 11, 172, 62, 204, 232, 170, 62, 50, 212, 169, 62, 193, 205, 168, 62, 20, 214, 167, 62, 227, 237, 166, 62, 243, 21, 166, 62, 14, 79, 165, 62, 0, 154, 164, 62, 140, 247, 163, 62, 104, 104, 163, 62, 58, 237, 162, 62, 141, 134, 162, 62, 211, 52, 162, 62, 90, 248, 161, 62, 74, 209, 161, 62, 168, 191, 161, 62, 79, 195, 161, 62, 242, 219, 161, 62, 24, 9, 162, 62, 39, 74, 162, 62, 92, 158, 162, 62, 218, 4, 163, 62, 170, 124, 163, 62, 193, 4, 164, 62, 13, 156, 164, 62, 116, 65, 165, 62, 230, 243, 165, 62, 91, 178, 166, 62, 218, 123, 167, 62, 131, 79, 168, 62, 140, 44, 169, 62, 70, 18, 170, 62, 22, 0, 171, 62, 111, 245, 171, 62, 197, 241, 172, 62, 128, 244, 173, 62, 223, 252, 174, 62, 219, 9, 176, 62, 0, 26, 177, 62, 46, 43, 178, 62, 76, 58, 179, 62, 96, 67, 180, 62, 241, 65, 181, 62, 81, 49, 182, 62, 234, 12, 183, 62, 114, 208, 183, 62, 20, 120, 184, 62, 148, 0, 185, 62, 105, 103, 185, 62, 193, 170, 185, 62, 155, 201, 185, 62, 184, 195, 185, 62, 160, 153, 185, 62, 151, 76, 185, 62, 143, 222, 184, 62, 26, 82, 184, 62, 83, 170, 183, 62, 209, 234, 182, 62, 136, 23, 182, 62, 184, 52, 181, 62, 215, 70, 180, 62, 113, 82, 179, 62, 23, 92, 178, 62, 74, 104, 177, 62, 95, 123, 176, 62, 110, 153, 175, 62, 63, 198, 174, 62, 56, 5, 174, 62, 78, 89, 173, 62, 250, 196, 172, 62, 46, 74, 172, 62, 81, 234, 171, 62, 51, 166, 171, 62, 18, 126, 171, 62, 157, 113, 171, 62, 58, 128, 171, 62, 19, 169, 171, 62, 1, 235, 171, 62, 114, 68, 172, 62, 100, 179, 172, 62, 102, 53, 173, 62, 169, 199, 173, 62, 15, 103, 174, 62, 81, 16, 175, 62, 29, 192, 175, 62, 15, 115, 176, 62, 157, 37, 177, 62, 44, 212, 177, 62, 29, 123, 178, 62, 179, 22, 179, 62, 247, 162, 179, 62, 248, 27, 180, 62, 241, 125, 180, 62, 108, 197, 180, 62, 102, 239, 180, 62, 109, 249, 180, 62, 164, 225, 180, 62, 221, 166, 180, 62, 156, 72, 180, 62, 23, 199, 179, 62, 49, 35, 179, 62, 115, 94, 178, 62, 5, 123, 177, 62, 142, 123, 176, 62, 51, 99, 175, 62, 247, 35, 174, 62, 122, 158, 172, 62, 179, 228, 170, 62, 159, 11, 169, 62, 86, 40, 167, 62, 50, 79, 165, 62, 245, 146, 163, 62, 13, 4, 162, 62, 219, 187, 160, 62, 111, 211, 159, 62, 167, 57, 159, 62, 86, 220, 158, 62, 133, 170, 158, 62, 13, 149, 158, 62, 56, 143, 158, 62, 49, 143, 158, 62, 64, 143, 158, 62, 64, 143, 158, 62, 64, 143, 158, 62, 64, 143, 158, 62, 64, 143, 158, 62, 64, 143, 158, 62, 64, 143, 158, 62, 104, 144, 158, 62, 29, 154, 158, 62, 193, 182, 158, 62, 145, 242, 158, 62, 13, 91, 159, 62, 78, 254, 159, 62, 75, 234, 160, 62, 26, 44, 162, 62, 124, 187, 163, 62, 122, 100, 165, 62, 87, 19, 167, 62, 170, 181, 168, 62, 77, 57, 170, 62, 24, 141, 171, 62, 172, 161, 172, 62, 14, 106, 173, 62, 131, 237, 173, 62, 238, 81, 174, 62, 210, 152, 174, 62, 122, 194, 174, 62, 215, 207, 174, 62, 128, 194, 174, 62, 164, 156, 174, 62, 238, 96, 174, 62, 100, 18, 174, 62, 46, 180, 173, 62, 97, 73, 173, 62, 195, 212, 172, 62, 193, 88, 172, 62, 198, 215, 171, 62, 23, 84, 171, 62, 197, 207, 170, 62, 177, 76, 170, 62, 151, 204, 169, 62, 35, 81, 169, 62, 225, 219, 168, 62, 79, 110, 168, 62, 221, 9, 168, 62, 248, 175, 167, 62, 23, 98, 167, 62, 180, 33, 167, 62, 70, 240, 166, 62, 54, 207, 166, 62, 212, 191, 166, 62, 86, 195, 166, 62, 211, 218, 166, 62, 76, 7, 167, 62, 166, 73, 167, 62, 169, 162, 167, 62, 244, 18, 168, 62, 3, 155, 168, 62, 28, 59, 169, 62, 87, 243, 169, 62, 146, 195, 170, 62, 115, 171, 171, 62, 100, 170, 172, 62, 143, 191, 173, 62, 228, 233, 174, 62, 17, 40, 176, 62, 141, 120, 177, 62, 148, 217, 178, 62, 56, 73, 180, 62, 91, 197, 181, 62, 200, 75, 183, 62, 51, 218, 184, 62, 69, 110, 186, 62, 164, 5, 188, 62, 251, 157, 189, 62, 10, 53, 191, 62, 182, 200, 192, 62, 13, 87, 194, 62, 59, 222, 195, 62, 148, 92, 197, 62, 141, 208, 198, 62, 166, 56, 200, 62, 109, 147, 201, 62, 189, 223, 202, 62, 31, 29, 204, 62, 141, 75, 205, 62, 79, 107, 206, 62, 210, 124, 207, 62, 133, 128, 208, 62, 195, 118, 209, 62, 184, 95, 210, 62, 97, 59, 211, 62, 123, 9, 212, 62, 143, 201, 212, 62, 244, 122, 213, 62, 205, 28, 214, 62, 18, 174, 214, 62, 151, 45, 215, 62, 19, 154, 215, 62, 45, 242, 215, 62, 125, 52, 216, 62, 172, 95, 216, 62, 113, 114, 216, 62, 169, 107, 216, 62, 95, 74, 216, 62, 200, 13, 216, 62, 86, 181, 215, 62, 182, 64, 215, 62, 215, 175, 214, 62, 229, 2, 214, 62, 84, 58, 213, 62, 233, 86, 212, 62, 201, 89, 211, 62, 113, 68, 210, 62, 170, 24, 209, 62, 111, 216, 207, 62, 138, 133, 206, 62, 151, 33, 205, 62, 18, 174, 203, 62, 133, 44, 202, 62, 141, 158, 200, 62, 252, 5, 199, 62, 225, 100, 197, 62, 160, 189, 195, 62, 1, 19, 194, 62, 72, 104, 192, 62, 64, 193, 190, 62, 20, 34, 189, 62, 4, 143, 187, 62, 59, 12, 186, 62, 204, 157, 184, 62, 141, 71, 183, 62, 14, 13, 182, 62, 123, 241, 180, 62, 132, 247, 179, 62, 206, 45, 179, 62, 243, 167, 178, 62, 150, 108, 178, 62, 17, 126, 178, 62, 146, 218, 178, 62, 67, 124, 179, 62, 163, 89, 180, 62, 247, 101, 181, 62, 96, 115, 182, 62, 241, 88, 183, 62, 38, 18, 184, 62, 27, 158, 184, 62, 32, 255, 184, 62, 72, 58, 185, 62, 234, 86, 185, 62, 46, 94, 185, 62, 46, 94, 185, 62, 46, 94, 185, 62, 46, 94, 185, 62, 46, 94, 185, 62, 46, 94, 185, 62, 205, 95, 185, 62, 79, 113, 185, 62, 13, 160, 185, 62, 109, 248, 185, 62, 84, 135, 186, 62, 129, 90, 187, 62, 215, 128, 188, 62, 159, 10, 190, 62, 205, 253, 191, 62, 122, 27, 194, 62, 68, 78, 196, 62, 74, 137, 198, 62, 79, 189, 200, 62, 26, 217, 202, 62, 228, 201, 204, 62, 195, 123, 206, 62, 131, 229, 207, 62, 90, 60, 209, 62, 182, 134, 210, 62, 93, 192, 211, 62, 26, 229, 212, 62, 200, 240, 213, 62, 108, 223, 214, 62, 67, 173, 215, 62, 210, 86, 216, 62, 250, 216, 216, 62, 253, 48, 217, 62, 147, 92, 217, 62, 239, 89, 217, 62, 200, 39, 217, 62, 95, 197, 216, 62, 133, 50, 216, 62, 154, 111, 215, 62, 143, 125, 214, 62, 232, 93, 213, 62, 172, 18, 212, 62, 108, 158, 210, 62, 44, 4, 209, 62, 100, 71, 207, 62, 238, 107, 205, 62, 247, 117, 203, 62, 248, 105, 201, 62, 161, 76, 199, 62, 200, 34, 197, 62, 55, 241, 194, 62, 76, 188, 192, 62, 230, 135, 190, 62, 113, 87, 188, 62, 207, 45, 186, 62, 105, 13, 184, 62, 95, 248, 181, 62, 172, 240, 179, 62, 32, 248, 177, 62, 105, 16, 176, 62, 12, 59, 174, 62, 111, 121, 172, 62, 212, 204, 170, 62, 84, 54, 169, 62, 223, 182, 167, 62, 52, 79, 166, 62, 233, 255, 164, 62, 89, 201, 163, 62, 175, 171, 162, 62, 223, 166, 161, 62, 166, 186, 160, 62, 142, 230, 159, 62, 241, 41, 159, 62, 251, 131, 158, 62, 181, 243, 157, 62, 9, 120, 157, 62, 201, 15, 157, 62, 191, 185, 156, 62, 178, 116, 156, 62, 114, 63, 156, 62, 227, 24, 156, 62, 6, 0, 156, 62, 3, 244, 155, 62, 44, 244, 155, 62, 0, 0, 156, 62, 48, 23, 156, 62, 154, 57, 156, 62, 81, 103, 156, 62, 155, 160, 156, 62, 253, 229, 156, 62, 103, 56, 157, 62, 22, 153, 157, 62, 83, 9, 158, 62, 56, 138, 158, 62, 96, 28, 159, 62, 161, 191, 159, 62, 255, 114, 160, 62, 39, 53, 161, 62, 151, 4, 162, 62, 150, 223, 162, 62, 54, 196, 163, 62, 92, 176, 164, 62, 197, 161, 165, 62, 13, 150, 166, 62, 184, 138, 167, 62, 65, 125, 168, 62, 23, 107, 169, 62, 170, 81, 170, 62, 110, 46, 171, 62, 225, 254, 171, 62, 164, 192, 172, 62, 141, 113, 173, 62, 183, 15, 174, 62, 136, 153, 174, 62, 179, 13, 175, 62, 72, 107, 175, 62, 178, 177, 175, 62, 184, 224, 175, 62, 131, 248, 175, 62, 150, 249, 175, 62, 207, 228, 175, 62, 101, 187, 175, 62, 221, 126, 175, 62, 3, 49, 175, 62, 225, 211, 174, 62, 193, 105, 174, 62, 19, 245, 173, 62, 81, 120, 173, 62, 141, 245, 172, 62, 110, 110, 172, 62, 95, 228, 171, 62, 166, 88, 171, 62, 143, 204, 170, 62, 113, 65, 170, 62, 195, 184, 169, 62, 38, 52, 169, 62, 111, 181, 168, 62, 166, 62, 168, 62, 20, 210, 167, 62, 59, 114, 167, 62, 184, 33, 167, 62, 26, 227, 166, 62, 212, 184, 166, 62, 82, 165, 166, 62, 210, 170, 166, 62, 96, 203, 166, 62, 201, 8, 167, 62, 141, 100, 167, 62, 206, 223, 167, 62, 38, 123, 168, 62, 143, 54, 169, 62, 113, 17, 170, 62, 179, 10, 171, 62, 211, 32, 172, 62, 236, 81, 173, 62, 200, 155, 174, 62, 241, 251, 175, 62, 188, 111, 177, 62, 92, 244, 178, 62, 234, 134, 180, 62, 123, 36, 182, 62, 41, 202, 183, 62, 33, 117, 185, 62, 182, 34, 187, 62, 101, 208, 188, 62, 212, 123, 190, 62, 201, 34, 192, 62, 55, 195, 193, 62, 73, 91, 195, 62, 179, 233, 196, 62, 54, 110, 198, 62, 116, 233, 199, 62, 174, 92, 201, 62, 125, 201, 202, 62, 163, 49, 204, 62, 202, 150, 205, 62, 95, 250, 206, 62, 99, 93, 208, 62, 69, 192, 209, 62, 186, 34, 211, 62, 219, 131, 212, 62, 120, 226, 213, 62 ),
"format": "RFloat",
"height": 1,
"mipmaps": false,
"width": 1024
}

[sub_resource type="ImageTexture" id=13]
flags = 0
flags = 0
image = SubResource( 12 )
size = Vector2( 1024, 1 )

[sub_resource type="OpenSimplexNoise" id=9]
octaves = 4
period = 32.0
persistence = 0.75

[sub_resource type="NoiseTexture" id=10]
width = 128
height = 128
seamless = true
noise = SubResource( 9 )

[sub_resource type="ShaderMaterial" id=11]
shader = SubResource( 4 )
shader_param/terrainSize = Vector2( 4096, 800 )
shader_param/texWarp = 0.256
shader_param/texSteps = 8.0
shader_param/texAdd = 0.814
shader_param/texEasing = -4.0
shader_param/texFadeOutLen = 16.0
shader_param/texFadeOutRange = Vector2( 0.5, 1 )
shader_param/tilingSize = 128.0
shader_param/heightMapResolution = 0.25
shader_param/terrainHeightMap = SubResource( 13 )
shader_param/tex = SubResource( 10 )
shader_param/terrainGradient = SubResource( 6 )

[node name="World" type="Control"]
margin_right = 4096.0
margin_bottom = 800.0
script = ExtResource( 3 )
__meta__ = {
"_edit_use_anchors_": false
}
height = 200.0
gravity = 20.0
resolution = 0.25
terrainSize = Vector2( 4096, 800 )
platformInterpolationSize = 64.0
platformScene = ExtResource( 5 )
platformInterpolationEasing = -2.0
heightOffset = 200.0
popupScene = ExtResource( 4 )
surfaceColor = Color( 0.827451, 0.254902, 0.227451, 1 )

[node name="Parallax" type="ParallaxBackground" parent="."]

[node name="_1" type="ParallaxLayer" parent="Parallax"]
motion_scale = Vector2( 0.1, 0.1 )
motion_mirroring = Vector2( 512, 512 )

[node name="Particles" type="Particles2D" parent="Parallax/_1"]
modulate = Color( 1, 1, 1, 0.392157 )
position = Vector2( 256, 256 )
lifetime = 2.0
preprocess = 2.0
visibility_rect = Rect2( -999, -999, 1998, 1998 )
process_material = SubResource( 3 )

[node name="_2" type="ParallaxLayer" parent="Parallax"]
motion_scale = Vector2( 0.25, 0.25 )
motion_mirroring = Vector2( 512, 512 )

[node name="Particles" type="Particles2D" parent="Parallax/_2"]
modulate = Color( 1, 1, 1, 0.588235 )
position = Vector2( 256, 256 )
lifetime = 2.0
preprocess = 2.0
visibility_rect = Rect2( -999, -999, 1998, 1998 )
process_material = SubResource( 3 )

[node name="_3" type="ParallaxLayer" parent="Parallax"]
motion_scale = Vector2( 0.5, 0.5 )
motion_mirroring = Vector2( 512, 512 )

[node name="Particles" type="Particles2D" parent="Parallax/_3"]
position = Vector2( 256, 256 )
lifetime = 2.0
preprocess = 2.0
visibility_rect = Rect2( -999, -999, 1998, 1998 )
process_material = SubResource( 3 )

[node name="Player" parent="." instance=ExtResource( 1 )]
position = Vector2( 128, 128 )

[node name="Platforms" type="Node2D" parent="."]

[node name="Terrain" type="ColorRect" parent="."]
material = SubResource( 11 )
anchor_right = 1.0
anchor_bottom = 1.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Popups" type="Node2D" parent="."]
